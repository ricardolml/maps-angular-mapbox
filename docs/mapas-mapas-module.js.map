{"version":3,"sources":["./src/app/mapas/components/mini-mapa/mini-mapa.component.ts","./src/app/mapas/components/mini-mapa/mini-mapa.component.html","./src/app/mapas/mapas-routing.module.ts","./src/app/mapas/mapas.module.ts","./src/app/mapas/pages/zoom-range/zoom-range.component.ts","./src/app/mapas/pages/zoom-range/zoom-range.component.html","./src/app/mapas/pages/full-screen/full-screen.component.ts","./src/app/mapas/pages/full-screen/full-screen.component.html","./src/app/mapas/pages/marcadores/marcadores.component.ts","./src/app/mapas/pages/marcadores/marcadores.component.html","./src/app/mapas/pages/propiedades/propiedades.component.html","./src/app/mapas/pages/propiedades/propiedades.component.ts"],"names":[],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAsC;;;AAe/B,MAAM,iBAAiB;IAO1B;QALS,WAAM,GAAqB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAK3B,CAAC;IAEjB,eAAe;QAEX,IAAI,CAAC,IAAI,GAAG,IAAI,6CAAY,CAAC;YACzB,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa;YACrC,KAAK,EAAE,oCAAoC;YAC3C,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,IAAI,EAAE,EAAE;YACR,WAAW,EAAG,KAAK;SACtB,CAAC,CAAC;QAEH,IAAI,gDAAe,EAAE,CAAC,SAAS,CAAE,IAAI,CAAC,MAAM,CAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAEpE,CAAC;;kFArBQ,iBAAiB;iGAAjB,iBAAiB;;;;;;QChB9B,0EAAkB;;;;;;;;;;;;;;ACClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuD;AACyB;AACH;AACC;AACG;;;AAEjF,MAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAG,EAAE;QACT,QAAQ,EAAG;YACP,EAAE,IAAI,EAAG,YAAY,EAAE,SAAS,EAAG,4FAAmB,EAAE;YACxD,EAAE,IAAI,EAAG,YAAY,EAAE,SAAS,EAAG,yFAAkB,EAAE;YACvD,EAAE,IAAI,EAAG,YAAY,EAAE,SAAS,EAAG,0FAAmB,EAAE;YACxD,EAAE,IAAI,EAAG,aAAa,EAAE,SAAS,EAAE,6FAAoB,EAAE;YACzD,EAAE,IAAI,EAAG,IAAI,EAAG,UAAU,EAAG,YAAY,EAAE;SAC9C;KACJ;CACJ,CAAC;AAMK,MAAM,kBAAkB;;iGAAlB,kBAAkB;8JAAlB,kBAAkB,kBAHpB,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAC9B,4DAAY;mIAEX,kBAAkB,uFAFnB,4DAAY;;;;;;;;;;;;;ACrBxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AAEa;AACmB;AACC;AACF;AACD;AACI;;AAe1E,MAAM,WAAW;;0FAAX,WAAW;gJAAX,WAAW,kBALX;YACL,4DAAY;YACZ,wEAAkB;SACrB;mIAEQ,WAAW,mBAVhB,2FAAiB;QACjB,4FAAmB;QACnB,0FAAmB;QACnB,yFAAkB;QAClB,6FAAoB,aAEpB,4DAAY;QACZ,wEAAkB;;;;;;;;;;;;;ACnB1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsC;;;;AAsB/B,MAAM,kBAAkB;IAK3B;QAHA,SAAI,GAAY,EAAE,CAAC;QACnB,WAAM,GAAsB,CAAC,CAAC,UAAU,EAAG,UAAU,CAAC,CAAC;IAEvC,CAAC;IAEjB,WAAW;QACP,IAAI,CAAC,IAAI,CAAC,GAAG,CAAE,MAAM,EAAG,GAAG,EAAE,GAAE,CAAC,CAAE,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAE,SAAS,EAAG,GAAG,EAAE,GAAE,CAAC,CAAE,CAAC;QACtC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAE,MAAM,EAAG,GAAG,EAAE,GAAE,CAAC,CAAE,CAAC;IACvC,CAAC;IAED,eAAe;QACX,IAAI,CAAC,IAAI,GAAG,IAAI,6CAAY,CAAC;YACzB,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa;YACrC,KAAK,EAAE,oCAAoC;YAC3C,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,IAAI,EAAE,IAAI,CAAC,IAAI;SAClB,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAE,MAAM,EAAG,GAAE,EAAE;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACpC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAE,SAAS,EAAG,GAAE,EAAE;YAC1B,IAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE,EAAE;gBACzB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;aACxB;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAE,MAAM,EAAG,CAAE,EAAC,MAAM,EAAC,EAAE,EAAE;YACjC,MAAM,EAAE,GAAG,EAAG,GAAG,EAAE,GAAG,MAAM,CAAC,SAAS,EAAE;YACxC,IAAI,CAAC,MAAM,GAAG,CAAE,GAAG,EAAC,GAAG,CAAE,CAAC;QAC9B,CAAC,CAAC,CAAC;IACP,CAAC;IAGD,OAAO;QACH,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;IACpC,CAAC;IACD,MAAM;QACF,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QAChC,+CAA+C;IACnD,CAAC;IAED,UAAU,CAAE,KAAc;QACtB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAE,MAAM,CAAC,KAAK,CAAC,CAAE;IACrC,CAAC;;oFAlDQ,kBAAkB;kGAAlB,kBAAkB;;;;;;;QCvB/B,uEAAwC;QAExC,yEAAiB;QACb,yEAAoB;QAChB,2EAA0B;QACtB,uDAEJ;;;;QAAA,4DAAQ;QACR,8EASC;QAJG,sRAAW,yBAA6B,IAAC;QAL7C,4DASC;QACL,4DAAM;QAEN,0EAAoB;QAChB,6EAAoD;QAApB,2IAAS,aAAS,IAAC;QAC/C,+DACJ;QAAA,4DAAS;QACT,6EAA6D;QAAnB,2IAAS,YAAQ,IAAC;QACxD,+DACJ;QAAA,4DAAS;QACb,4DAAM;QACV,4DAAM;;QAvBM,0DAEJ;QAFI,mXAEJ;QAII,0DAAc;QAAd,2EAAc;;;;;;;;;;;;;;ACV1B;AAAA;AAAA;AAAA;AAAA;AAAsC;;AAc/B,MAAM,mBAAmB;IAE5B,gBAAgB,CAAC;IAEjB,QAAQ;QAEJ,IAAI,GAAG,GAAG,IAAI,6CAAY,CAAC;YACvB,SAAS,EAAE,MAAM;YACjB,KAAK,EAAE,oCAAoC;YAC3C,MAAM,EAAE,CAAE,CAAC,UAAU,EAAG,UAAU,CAAE;YACpC,IAAI,EAAG,EAAE;SACZ,CAAC,CAAC;IACP,CAAC;;sFAZQ,mBAAmB;mGAAnB,mBAAmB;QCfhC,oEAEM;;;;;;;;;;;;;;ACDN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsC;;;;;;;ICElC,wEAMC;IAFG,2VAA4B;IAE9B,uDAAoB;IAAA,4DAAK;;;;IAHvB,2JAAkD;IAGpD,0DAAoB;IAApB,2FAAoB;;AD0BnB,MAAM,mBAAmB;IAW5B;QANA,SAAI,GAAW,EAAE,CAAC;QAClB,WAAM,GAAqB,CAAC,CAAC,UAAU,EAAG,UAAU,CAAC,CAAC;QAEtD,uBAAuB;QACvB,YAAO,GAAoB,EAAE,CAAC;IAEd,CAAC;IAEjB,eAAe;QAEX,IAAI,CAAC,IAAI,GAAG,IAAI,6CAAY,CAAC;YACzB,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa;YACrC,KAAK,EAAE,oCAAoC;YAC3C,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,IAAI,EAAE,IAAI,CAAC,IAAI;SAClB,CAAC,CAAC;QAEH,IAAI,CAAC,gBAAgB,EAAE;QAEvB,mEAAmE;QACnE,uCAAuC;QAEvC,sCAAsC;QACtC,8BAA8B;QAC9B,+CAA+C;IAKnD,CAAC;IAED,aAAa;QACT,MAAM,KAAK,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;QAClF,MAAM,WAAW,GAAG,IAAI,gDAAe,CAAC;YACpC,SAAS,EAAE,IAAI;YACf,KAAK;SACR,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC;QAClD,IAAI,CAAC,6BAA6B,EAAE,CAAC;QACrC,WAAW,CAAC,EAAE,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,6BAA6B,EAAE,CAAC,CAAC;IAC1E,CAAC;IAED,QAAQ,CAAC,EAAE,MAAM,EAAiB;QAE9B,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YACZ,MAAM,EAAE,MAAO,CAAC,SAAS,EAAE;SAC9B,CAAC;IACN,CAAC;IAED,6BAA6B;QAEzB,MAAM,SAAS,GAAoB,EAAE,CAAC;QAEtC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACrB,MAAM,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;YACtB,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,MAAO,CAAC,SAAS,EAAE,CAAC;YAE3C,SAAS,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;QAElD,CAAC,CAAC,CAAC;QAEH,YAAY,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;IAC/D,CAAC;IAED,gBAAgB;QAEZ,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YAClC,OAAO;SACV;QACD,MAAM,OAAO,GAAoB,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAE,CAAC,CAAC;QAE9E,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE;YAC1B,MAAM,WAAW,GAAG,IAAI,gDAAe,CAAC;gBACpC,SAAS,EAAE,IAAI;gBACf,KAAK,EAAE,MAAM,CAAC,KAAK;aACtB,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,MAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAE9C,WAAW,CAAC,EAAE,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,6BAA6B,EAAE,CAAC,CAAC;YAEtE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC;SACnE;IACL,CAAC;IAED,cAAc,CAAC,CAAS;;QACpB,UAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,0CAAE,MAAM,GAAG;QACjC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,6BAA6B,EAAE,CAAC;IACzC,CAAC;;sFA5FQ,mBAAmB;mGAAnB,mBAAmB;;;;;;QCnChC,wEAAuB;QACnB,wEAA2E;QAA1B,uIAAS,mBAAe,IAAC;QAAE,sEAAU;QAAA,4DAAK;QAE3F,6GAM2B;QAC/B,4DAAK;QAEL,uEAAwC;;QAPb,0DAAa;QAAb,gFAAa;;;;;;;;;;;;;;;;;;;;;;;ICM5B,yEAA8D;IAC1D,yEAAkB;IACd,8EAAiF;IACjF,yEAAuB;IACnB,yEAAuB;IAAA,uDAAsB;IAAA,4DAAK;IAClD,wEAAsB;IAAA,uDAA2B;IAAA,4DAAI;IACzD,4DAAM;IACV,4DAAM;IACV,4DAAM;;;IANiB,0DAA2B;IAA3B,uFAA2B;IAEf,0DAAsB;IAAtB,oFAAsB;IACvB,0DAA2B;IAA3B,yFAA2B;;ACDlE,MAAM,oBAAoB;IANjC;QAQI,gBAAW,GAAgB;YACvB;gBACI,MAAM,EAAE,0BAA0B;gBAClC,WAAW,EAAE,mCAAmC;gBAChD,MAAM,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB,CAAC;aACnD;YACD;gBACI,MAAM,EAAE,uBAAuB;gBAC/B,WAAW,EAAE,2CAA2C;gBACxD,MAAM,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB,CAAC;aACnD;YACD;gBACI,MAAM,EAAE,wBAAwB;gBAChC,WAAW,EAAE,6DAA6D;gBAC1E,MAAM,EAAE,CAAC,CAAC,kBAAkB,EAAE,CAAC,iBAAiB,CAAC;aACpD;YACD;gBACI,MAAM,EAAE,yBAAyB;gBACjC,WAAW,EAAE,2EAA2E;gBACxF,MAAM,EAAE,CAAC,CAAC,kBAAkB,EAAE,iBAAiB,CAAC;aACnD;SACJ;KAEJ;;wFAzBY,oBAAoB;oGAApB,oBAAoB;QDfjC,yEAAsB;QAClB,oEAAyB;QACzB,yEAAiB;QACb,qEAAI;QAAA,+EAAoB;QAAA,4DAAK;QACjC,4DAAM;QACV,4DAAM;QAEN,yEAA0B;QACtB,oEAAyB;QACzB,yEAAiB;QACb,yEAAiB;QACb,gHAQM;QACV,4DAAM;QACV,4DAAM;QACV,4DAAM;;QAXoD,0DAAc;QAAd,oFAAc","file":"mapas-mapas-module.js","sourcesContent":["import { AfterViewInit, Component, Input, ViewChild, ElementRef } from '@angular/core';\nimport * as mapboxgl from 'mapbox-gl';\n\n@Component({\n    selector: 'app-mini-mapa',\n    templateUrl: './mini-mapa.component.html',\n    styles: [\n        `\n            div{\n                width  : 100%;\n                height : 150px;\n                margin : 0px;\n            }\n        `\n    ]\n})\nexport class MiniMapaComponent implements AfterViewInit {\n\n    @Input() lngLat: [number, number] = [0, 0];\n    @ViewChild('mapa') divMapa! : ElementRef;\n\n    mapa!: mapboxgl.Map  ;\n\n    constructor() { }\n\n    ngAfterViewInit(): void {\n\n        this.mapa = new mapboxgl.Map({\n            container: this.divMapa.nativeElement,\n            style: 'mapbox://styles/mapbox/streets-v11',\n            center: this.lngLat,\n            zoom: 15,\n            interactive : false\n        });\n\n        new mapboxgl.Marker().setLngLat( this.lngLat ).addTo(this.mapa);\n\n    }\n\n}\n","<div #mapa ></div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FullScreenComponent } from './pages/full-screen/full-screen.component';\nimport { ZoomRangeComponent } from './pages/zoom-range/zoom-range.component';\nimport { MarcadoresComponent } from './pages/marcadores/marcadores.component';\nimport { PropiedadesComponent } from './pages/propiedades/propiedades.component';\n\nconst routes: Routes = [\n    {\n        path : '',\n        children : [\n            { path : 'fullscreen' ,component : FullScreenComponent },\n            { path : 'zoom-range' ,component : ZoomRangeComponent },\n            { path : 'marcadores' ,component : MarcadoresComponent },\n            { path : 'propiedades' ,component: PropiedadesComponent },\n            { path : '**' , redirectTo : 'fullscreen' },\n        ]\n    }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MapasRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MapasRoutingModule } from './mapas-routing.module';\nimport { MiniMapaComponent } from './components/mini-mapa/mini-mapa.component';\nimport { FullScreenComponent } from './pages/full-screen/full-screen.component';\nimport { MarcadoresComponent } from './pages/marcadores/marcadores.component';\nimport { ZoomRangeComponent } from './pages/zoom-range/zoom-range.component';\nimport { PropiedadesComponent } from './pages/propiedades/propiedades.component';\n\n\n@NgModule({\n    declarations: [\n        MiniMapaComponent,\n        FullScreenComponent,\n        MarcadoresComponent,\n        ZoomRangeComponent,\n        PropiedadesComponent],\n    imports: [\n        CommonModule,\n        MapasRoutingModule\n    ]\n})\nexport class MapasModule { }\n","import { AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport * as mapboxgl from 'mapbox-gl';\n@Component({\n    selector: 'app-zoom-range',\n    templateUrl: './zoom-range.component.html',\n    styles: [\n        `\n        .mapa-container{\n                width: 100%;\n                height: 100%;\n            }\n        .row{\n            background-color : white;\n            bottom : 50px;\n            left   : 50px;\n            padding : 10px;\n            border-radius: 10px;\n            position: fixed;\n            z-index: 999;\n        }\n      `\n    ]\n})\nexport class ZoomRangeComponent implements AfterViewInit , OnDestroy{\n    mapa!: mapboxgl.Map  ;\n    zoom : number = 16;\n    center : [number , number] =[-71.2063181 , 46.8120929];\n    @ViewChild(\"mapa\") divMapa! : ElementRef ;\n    constructor() { }   \n\n    ngOnDestroy(): void {\n        this.mapa.off( 'zoom' , () => {} );\n        this.mapa.off( 'zoomend' , () => {} );\n        this.mapa.off( 'move' , () => {} );\n    }\n\n    ngAfterViewInit(): void {\n        this.mapa = new mapboxgl.Map({\n            container: this.divMapa.nativeElement,\n            style: 'mapbox://styles/mapbox/streets-v11',\n            center: this.center,\n            zoom: this.zoom\n        });\n\n        this.mapa.on( 'zoom' , ()=>{\n            this.zoom = this.mapa.getZoom();\n        });\n\n        this.mapa.on( 'zoomend' , ()=>{\n            if(this.mapa.getZoom() > 18 ){\n                this.mapa.zoomTo(18);\n            }\n        });\n\n        this.mapa.on( 'move' , ( {target} )=>{\n            const { lng , lat } = target.getCenter()\n            this.center = [ lng,lat ];\n        });\n    }\n\n\n    zoomOut(){\n        this.mapa.zoomOut();\n        this.zoom = this.mapa.getZoom();\n    }\n    zoomIn(){\n        this.mapa.zoomIn();\n        this.zoom = this.mapa.getZoom();\n        // this.mapa.setZoom(this.mapa.getZoom() + 1 );\n    }\n\n    zoomCambio( valor : string ){\n        this.mapa.zoomTo( Number(valor) )\n    }\n\n}\n","<div #mapa class=\"mapa-container\"></div>\n\n<div class=\"row\">\n    <div class=\"col-12\">\n        <label class=\"form-label\">\n            Zoom : {{ zoom |number:'2.2-2' }}\n            -Lng , Lat [ {{center[0] |number:'2.4-4' }} , {{ center[1] |number:'2.4-4' }} ]\n        </label>\n        <input \n            type=\"range\" \n            class=\"form-range\" \n            [value]=\"zoom\"\n            max=\"18\"\n            (input) = \"zoomCambio( zoomInput.value )\"\n            #zoomInput\n            min='0'\n            id=\"customRange1\"\n        >\n    </div>\n\n    <div class=\"col-12\">\n        <button class=\"btn btn-primary\" (click)=\"zoomOut()\">\n            -\n        </button>\n        <button class=\"btn btn-primary float-end\" (click)=\"zoomIn()\">\n            +\n        </button>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport * as mapboxgl from 'mapbox-gl';\n\n@Component({\n    selector: 'app-full-screen',\n    templateUrl: './full-screen.component.html',\n    styles: [\n        `\n            #mapa{\n                width: 100%;\n                height: 100%;\n            }\n        `\n    ]\n})\nexport class FullScreenComponent implements OnInit {\n\n    constructor() { }\n\n    ngOnInit(): void {\n        \n        var map = new mapboxgl.Map({\n            container: 'mapa',\n            style: 'mapbox://styles/mapbox/streets-v11',\n            center: [ -71.2063181 , 46.8120929 ],\n            zoom : 16\n        });\n    }\n\n}\n","<div id=\"mapa\">\n\n</div>","import { AfterViewInit, Component, ElementRef, ViewChild } from '@angular/core';\nimport * as mapboxgl from 'mapbox-gl';\n\ninterface MarcadorColor {\n    color: string;\n    marker?: mapboxgl.Marker;\n    centro?: [number, number];\n}\n\n\n@Component({\n    selector: 'app-marcadores',\n    templateUrl: './marcadores.component.html',\n    styles: [\n\n        `\n        .mapa-container{\n                width: 100%;\n                height: 100%;\n        }\n\n        .list-group{\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            z-index : 99;\n            \n        }\n\n        li{\n            cursor:pointer;\n        }\n    `\n    ]\n})\nexport class MarcadoresComponent implements AfterViewInit {\n\n    @ViewChild(\"mapa\") divMapa!: ElementRef;\n\n    mapa!: mapboxgl.Map;\n    zoom: number = 15;\n    center: [number, number] = [-71.2063181 , 46.8120929];\n\n    //arreglo de marcadores\n    markers: MarcadorColor[] = [];\n\n    constructor() { }\n\n    ngAfterViewInit(): void {\n\n        this.mapa = new mapboxgl.Map({\n            container: this.divMapa.nativeElement,\n            style: 'mapbox://styles/mapbox/streets-v11',\n            center: this.center,\n            zoom: this.zoom\n        });\n\n        this.leerLocalStorage()\n\n        // const marketHtml : HTMLElement = document.createElement('div') ;\n        // marketHtml.innerHTML = 'Hola Mundo';\n\n        // const maker = new mapboxgl.Marker({\n        //     // element : marketHtml\n        // }).setLngLat( this.center).addTo(this.mapa);\n\n\n\n\n    }\n\n    agregarMarker() {\n        const color = \"#xxxxxx\".replace(/x/g, y => (Math.random() * 16 | 0).toString(16));\n        const nuevoMarker = new mapboxgl.Marker({\n            draggable: true,\n            color\n        }).setLngLat(this.center).addTo(this.mapa);\n        this.markers.push({ color, marker: nuevoMarker });\n        this.guardarMarcadoresLocalStorage();\n        nuevoMarker.on('dragend', () => this.guardarMarcadoresLocalStorage());\n    }\n\n    irMarker({ marker }: MarcadorColor) {\n\n        this.mapa.flyTo({\n            center: marker!.getLngLat()\n        })\n    }\n\n    guardarMarcadoresLocalStorage() {\n\n        const lngLatArr: MarcadorColor[] = [];\n\n        this.markers.forEach(m => {\n            const color = m.color;\n            const { lng, lat } = m.marker!.getLngLat();\n\n            lngLatArr.push({ color, centro: [lng, lat] });\n\n        });\n\n        localStorage.setItem('markers', JSON.stringify(lngLatArr));\n    }\n\n    leerLocalStorage() {\n\n        if (!localStorage.getItem('markers')) {\n            return;\n        }\n        const markers: MarcadorColor[] = JSON.parse(localStorage.getItem('markers')!);\n\n        for (const market of markers) {\n            const nuevoMarker = new mapboxgl.Marker({\n                draggable: true,\n                color: market.color\n            }).setLngLat(market.centro!).addTo(this.mapa);\n\n            nuevoMarker.on('dragend', () => this.guardarMarcadoresLocalStorage());\n\n            this.markers.push({ color: market.color, marker: nuevoMarker });\n        }\n    }\n\n    borrarMarcador(i: number) {\n        this.markers[i].marker?.remove();\n        this.markers.splice(i, 1);\n        this.guardarMarcadoresLocalStorage();\n    }\n\n}\n","<ul class=\"list-group\">\r\n    <li class=\"list-group-item list-group-item-info\" (click)=\"agregarMarker()\"> + Agregar </li>\r\n\r\n    <li \r\n        class=\"list-group-item text-white text-bold\" \r\n        *ngFor=\"let marker of markers ; let i = index\" \r\n        [ngStyle] =\"{ 'background-color' : marker.color} \" \r\n        (click)=\"irMarker( marker )\"\r\n        (dblclick)=\"borrarMarcador(i)\"\r\n    > Market {{ i + 1  }} </li>\r\n</ul>\r\n\r\n<div #mapa class=\"mapa-container\"></div>\r\n","<div class=\"row mt-3\">\n    <div class=\"col-2\"></div>\n    <div class=\"col\">\n        <h1>Lista de propiedades</h1>\n    </div>\n</div>\n\n<div class=\"row containe\">\n    <div class=\"col-2\"></div>\n    <div class=\"col\">\n        <div class=\"row\">\n            <div class=\"col-4 mb-2\" *ngFor=\"let propiedad of propiedades\">\n                <div class=\"card\">\n                    <app-mini-mapa [lngLat]=\"propiedad.lngLat\" class=\"card-img-top\" ></app-mini-mapa>\n                    <div class=\"card-body\">\n                        <h5 class=\"card-title\">{{ propiedad.titulo }}</h5>\n                        <p class=\"card-text\" >{{ propiedad.descripcion }}</p>\n                    </div>\n                </div>\n            </div>    \n        </div>\n    </div>\n</div>","import { Component } from '@angular/core';\n\n\ninterface Propiedad {\n    titulo: string;\n    descripcion: string;\n    lngLat: [number, number];\n}\n\n@Component({\n    selector: 'app-propiedades',\n    templateUrl: './propiedades.component.html',\n    styles: [\n    ]\n})\nexport class PropiedadesComponent {\n\n    propiedades: Propiedad[] = [\n        {\n            titulo: 'Casa residencial, Canadá',\n            descripcion: 'Bella propiedad en Katana, Canadá',\n            lngLat: [-75.92722289474008, 45.280015511264466]\n        },\n        {\n            titulo: 'Casa de playa, México',\n            descripcion: 'Hermosa casa de playa en Acapulco, México',\n            lngLat: [-99.91287720907991, 16.828940930185748]\n        },\n        {\n            titulo: 'Apartamento, Argentina',\n            descripcion: 'Lujoso apartamento en el corazón de Buenos Aires, Argentina',\n            lngLat: [-58.430166677283445, -34.57150108832866]\n        },\n        {\n            titulo: 'Local comercial, España',\n            descripcion: 'Local comercial disponible en Madrid, España, cerca de El Jardín Secreto.',\n            lngLat: [-3.7112735618380177, 40.42567285425766]\n        },\n    ]\n\n}\n"],"sourceRoot":"webpack:///"}